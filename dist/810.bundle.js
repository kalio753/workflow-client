"use strict";(self.webpackChunktask_1=self.webpackChunktask_1||[]).push([[810],{77255:(e,n,t)=>{t.r(n),t(28416);var i=t(20745),c=t(60414),o=t(95694),s=t(83317),a=t(77835),r=t(61194),l=t(34999),u=t(36154),d=t(73922),m=t(20182),x=t(34335),h=t(22210),j=t(77383),f=t(19019),k=t(3272),p=(0,a.ZP)(),g=(0,s.configureStore)({reducer:{template:r.ZP.reducer,folder:u.ZP.reducer,modalVisible:d.Z.reducer,fakeData:m.ZP.reducer,steps:x.ZP.reducer,refreshVariable:h.Z.reducer,globalVariable:j.ZP.reducer,documents:f.ZP.reducer,action:k.ZP.reducer},middleware:[p]});p.run(l.Z);const Z=g;t(40312),t(80136),t(88464);var v=t(88949),w=t(84159),b=t(62465),R=t(19446),y=t(26584),C=t(95958),L=t(43228),_=t(74087),P=t(45694),N=t(10423),T=t(97432),q=t(52723),D=(t(76154),t(56314)),Q=t(85893);T.Layout.Sider;const O=function(){var e=(0,D.parseJwt)((0,D.getToken)("_ttoauth"));function n(e,n,t,i){return{key:n,icon:t,children:i,label:e,className:n}}var t=!0===window.location.href.includes("workflowfe")?"":"/workflow-service";return(n((0,Q.jsx)(c.Link,{to:"".concat(t,"/guiden"),onClick:function(){},children:"Công việc của tôi"}),"menu-item-11",(0,Q.jsx)("img",{alt:"",className:"icon second-icon",src:q.mO})),n("Tài liệu của tôi","menu-item-2",(0,Q.jsx)("img",{alt:"",className:"icon second-icon",src:q.Xk}),[n((0,Q.jsx)(c.Link,{to:"".concat(t,"/u"),onClick:function(){},children:"Tạo mới"}),"menu-item-9"),n((0,Q.jsx)(c.Link,{to:"".concat(t,"/dagui"),onClick:function(){},children:"Đã gửi"}),"menu-item-10")]),1==e.user_id&&n("Quản lý tài liệu","menu-item-4",(0,Q.jsx)("img",{alt:"",className:"icon second-icon",src:q.$m}),[n((0,Q.jsx)(c.Link,{to:"".concat(t,"/quanly_template"),onClick:function(){},children:"Danh sách tài liệu"}),"menu-item-7"),n((0,Q.jsx)(c.Link,{to:"".concat(t,"/dscc"),onClick:function(){},children:"Quy trình vận hành"}),"menu-item-8")]),function(){return 1==e.user_id?[n("Quản lý tài liệu","menu-item-4",(0,Q.jsx)("img",{alt:"",className:"icon second-icon",src:q.$m}),[n((0,Q.jsx)(c.Link,{to:"".concat(t,"/quanly_template"),onClick:function(){},children:"Danh sách tài liệu"}),"menu-item-7"),n((0,Q.jsx)(c.Link,{to:"".concat(t,"/dscc"),onClick:function(){},children:"Quy trình vận hành"}),"menu-item-8")])]:[n((0,Q.jsx)(c.Link,{to:"".concat(t,"/guiden"),onClick:function(){},children:"Công việc của tôi"}),"menu-item-11",(0,Q.jsx)("img",{alt:"",className:"icon second-icon",src:q.mO})),n("Tài liệu của tôi","menu-item-2",(0,Q.jsx)("img",{alt:"",className:"icon second-icon",src:q.Xk}),[n((0,Q.jsx)(c.Link,{to:"".concat(t,"/u"),children:"Tạo mới"}),"menu-item-9"),n((0,Q.jsx)(c.Link,{to:"".concat(t,"/dagui"),children:"Đã gửi"}),"menu-item-10")])]})()};var V=t(21745),A=function(e){return e.children},B={initial:{opacity:0},in:{opacity:1},out:{opacity:0}},J={type:"tween",ease:"linear",duration:.6},S=function(){var e=(0,c.useLocation)().pathname;return(0,Q.jsx)(A,{children:(0,Q.jsx)(V.motion.div,{initial:"initial",animate:"in",variants:B,transition:J,children:(0,Q.jsx)(c.Outlet,{})},e)})};const U=function(){var e=(0,D.parseJwt)((0,D.getToken)("_ttoauth")),n=function(){return(0,Q.jsx)(c.Routes,{children:(0,Q.jsxs)(c.Route,{element:(0,Q.jsx)(S,{}),children:[(0,Q.jsx)(c.Route,{path:"/u",element:(0,Q.jsx)(v.Z,{})}),(0,Q.jsx)(c.Route,{path:"/dagui",element:(0,Q.jsx)(w.Z,{})}),(0,Q.jsx)(c.Route,{path:"/guiden",element:(0,Q.jsx)(b.Z,{})}),(0,Q.jsx)(c.Route,{path:"/ud",element:(0,Q.jsx)(y.Z,{})}),(0,Q.jsx)(c.Route,{path:"/ut",element:(0,Q.jsx)(R.Z,{})}),(0,Q.jsx)(c.Route,{path:"/ue",element:(0,Q.jsx)(C.Z,{})}),1==e.user_id&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(c.Route,{exact:!0,path:"/dscc",element:(0,Q.jsx)(_.Z,{})}),(0,Q.jsx)(c.Route,{exact:!0,path:"/quanly_template",element:(0,Q.jsx)(L.Z,{})}),(0,Q.jsx)(c.Route,{path:"/vbct",element:(0,Q.jsx)(P.Z,{})}),(0,Q.jsx)(c.Route,{path:"/edit_template",element:(0,Q.jsx)(P.Z,{})}),(0,Q.jsx)(c.Route,{path:"/taoqt",element:(0,Q.jsx)(N.Z,{})})]})]})})};return(0,Q.jsx)("div",{className:"workflow-service",children:(0,Q.jsxs)(o.Provider,{store:Z,children:[console.log(window.location.href.includes("workflowfe")),!1===window.location.href.includes("workflowfe")?n():(0,Q.jsx)("div",{style:{display:"flex"},children:(0,Q.jsxs)(c.BrowserRouter,{children:[(0,Q.jsx)(O,{style:{flex:1}}),n()]})})]})})};i.createRoot(document.getElementById("root")).render((0,Q.jsx)(U,{}))},95883:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"images/a055d62b5e582b57b1f3664893d1922b-ArrDown.svg"},35501:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"images/a13154cd17972ac3c9b828b54ccf253e-ArrUp.svg"},49749:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"images/79e7fa1056d23c5bafcf8085a5e705b1-Close.svg"},11384:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"images/53fceb0e7914b2fcff1d7ec448381c97-Plus.svg"},35891:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"images/957a88b06e7fdbf470b48a16365afbbd-Upload.svg"},20745:(e,n,t)=>{var i=t(31051);n.createRoot=i.createRoot,n.hydrateRoot=i.hydrateRoot}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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L3NyYy9yZWR1eC9zdG9yZS5qcyIsIndlYnBhY2s6Ly90YXNrLTEvLi9zcmMvY29tcG9uZW50cy9TaWRlQmFyL2luZGV4LmpzIiwid2VicGFjazovL3Rhc2stMS8uL3NyYy9BcHAuanMiLCJ3ZWJwYWNrOi8vdGFzay0xLy4vc3JjL2Jvb3RzdHJhcC5qcyIsIndlYnBhY2s6Ly90YXNrLTEvLi9zcmMvYXNzZXRzL2ltYWdlcy9BcnJEb3duLnN2ZyIsIndlYnBhY2s6Ly90YXNrLTEvLi9zcmMvYXNzZXRzL2ltYWdlcy9BcnJVcC5zdmciLCJ3ZWJwYWNrOi8vdGFzay0xLy4vc3JjL2Fzc2V0cy9pbWFnZXMvQ2xvc2Uuc3ZnIiwid2VicGFjazovL3Rhc2stMS8uL3NyYy9hc3NldHMvaW1hZ2VzL1BsdXMuc3ZnIiwid2VicGFjazovL3Rhc2stMS8uL3NyYy9hc3NldHMvaW1hZ2VzL1VwbG9hZC5zdmciLCJ3ZWJwYWNrOi8vdGFzay0xLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRvbS9jbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29uZmlndXJlU3RvcmUgfSBmcm9tIFwiQHJlZHV4anMvdG9vbGtpdFwiXG5pbXBvcnQgY3JlYXRlU2FnYU1pZGRsZXdhcmUgZnJvbSBcIkByZWR1eC1zYWdhL2NvcmVcIlxuaW1wb3J0IHRlbXBsYXRlU2xpY2UgZnJvbSBcIi4vc2xpY2VzL3RlbXBsYXRlU2xpY2VcIlxuaW1wb3J0IHJvb3RTYWdhIGZyb20gXCIuL3NhZ2Evcm9vdFNhZ2FcIlxuaW1wb3J0IGZvbGRlclNsaWNlIGZyb20gXCIuL3NsaWNlcy9mb2xkZXJTbGljZVwiXG5pbXBvcnQgbW9kYWxWaXNpYmxlU2xpY2UgZnJvbSBcIi4vc2xpY2VzL21vZGFsVmlzaWJsZVNsaWNlXCJcbmltcG9ydCBmYWtlRGF0YVNsaWNlIGZyb20gXCIuL3NsaWNlcy9mYWtlRGF0YVNsaWNlXCJcbmltcG9ydCBzdGVwc1NsaWNlIGZyb20gXCIuL3NsaWNlcy9zdGVwc1NsaWNlXCJcbmltcG9ydCByZWZyZXNoVmFyaWFibGVTbGljZSBmcm9tIFwiLi9zbGljZXMvcmVmcmVzaFZhcmlhYmxlU2xpY2VcIlxuaW1wb3J0IGdsb2JhbFZhcmlhYmxlU2xpY2UgZnJvbSBcIi4vc2xpY2VzL2dsb2JhbFZhcmlhYmxlU2xpY2VcIlxuaW1wb3J0IGRvY3VtZW50U2xpY2UgZnJvbSBcIi4vc2xpY2VzL2RvY3VtZW50U2xpY2VcIlxuaW1wb3J0IGFjdGlvblNsaWNlIGZyb20gXCIuL3NsaWNlcy9hY3Rpb25zU2xpY2VcIlxuXG5jb25zdCBzYWdhTWlkZGxld2FyZSA9IGNyZWF0ZVNhZ2FNaWRkbGV3YXJlKClcblxuY29uc3Qgc3RvcmUgPSBjb25maWd1cmVTdG9yZSh7XG4gICAgcmVkdWNlcjoge1xuICAgICAgICB0ZW1wbGF0ZTogdGVtcGxhdGVTbGljZS5yZWR1Y2VyLFxuICAgICAgICBmb2xkZXI6IGZvbGRlclNsaWNlLnJlZHVjZXIsXG4gICAgICAgIG1vZGFsVmlzaWJsZTogbW9kYWxWaXNpYmxlU2xpY2UucmVkdWNlcixcbiAgICAgICAgZmFrZURhdGE6IGZha2VEYXRhU2xpY2UucmVkdWNlcixcbiAgICAgICAgc3RlcHM6IHN0ZXBzU2xpY2UucmVkdWNlcixcbiAgICAgICAgcmVmcmVzaFZhcmlhYmxlOiByZWZyZXNoVmFyaWFibGVTbGljZS5yZWR1Y2VyLFxuICAgICAgICBnbG9iYWxWYXJpYWJsZTogZ2xvYmFsVmFyaWFibGVTbGljZS5yZWR1Y2VyLFxuICAgICAgICBkb2N1bWVudHM6IGRvY3VtZW50U2xpY2UucmVkdWNlcixcbiAgICAgICAgYWN0aW9uOiBhY3Rpb25TbGljZS5yZWR1Y2VyLFxuICAgIH0sXG4gICAgbWlkZGxld2FyZTogW3NhZ2FNaWRkbGV3YXJlXSxcbn0pXG5cbnNhZ2FNaWRkbGV3YXJlLnJ1bihyb290U2FnYSlcblxuZXhwb3J0IGRlZmF1bHQgc3RvcmVcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgTGF5b3V0LCBNZW51IH0gZnJvbSBcImFudGRcIlxuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgTGluayB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCJcbmltcG9ydCB7XG4gICAgTG9nbyxcbiAgICBQYXBlcixcbiAgICBQYXBlcl9OZWdhdGl2ZSxcbiAgICBTdGFyLFxuICAgIFVzZXIsXG4gICAgV29yayxcbn0gZnJvbSBcIi4uLy4uL2Fzc2V0cy9pbWFnZXNcIlxuaW1wb3J0IFwiLi9TaWRlYmFyLmxlc3NcIlxuaW1wb3J0IHsgZ2V0VG9rZW4sIHBhcnNlSnd0IH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL2hlbHBlclwiXG5jb25zdCB7IFNpZGVyIH0gPSBMYXlvdXRcblxuZnVuY3Rpb24gU2lkZWJhcigpIHtcbiAgICBjb25zdCB1c2VyRGF0YSA9IHBhcnNlSnd0KGdldFRva2VuKFwiX3R0b2F1dGhcIikpXG5cbiAgICAvLyBjb25zdCBbY29sbGFwc2VkLCBzZXRDb2xsYXBzZWRdID0gdXNlU3RhdGUoZmFsc2UpXG4gICAgLy8gY29uc3QgW2lzT3BlbktleSwgc2V0SXNPcGVuS2V5XSA9IHVzZVN0YXRlKFwiXCIpXG4gICAgLy8gY29uc3QgW2lzU2VsZWN0ZWRLZXksIHNldElzU2VsZWN0ZWRLZXldID0gdXNlU3RhdGUoXCJcIilcblxuICAgIGZ1bmN0aW9uIGdldEl0ZW0obGFiZWwsIGtleSwgaWNvbiwgY2hpbGRyZW4pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIGljb24sXG4gICAgICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBrZXksXG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IHVyaSA9XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwid29ya2Zsb3dmZVwiKSA9PT0gdHJ1ZVxuICAgICAgICAgICAgPyBcIlwiXG4gICAgICAgICAgICA6IFwiL3dvcmtmbG93LXNlcnZpY2VcIlxuICAgIGNvbnN0IGl0ZW1zID0gW1xuICAgICAgICBnZXRJdGVtKFxuICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICB0bz17YCR7dXJpfS9ndWlkZW5gfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0SXNTZWxlY3RlZEtleShcIjExXCIpXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBDw7RuZyB2aeG7h2MgY+G7p2EgdMO0aVxuICAgICAgICAgICAgPC9MaW5rPixcbiAgICAgICAgICAgIFwibWVudS1pdGVtLTExXCIsXG4gICAgICAgICAgICA8aW1nIGFsdD1cIlwiIGNsYXNzTmFtZT1cImljb24gc2Vjb25kLWljb25cIiBzcmM9e1dvcmt9PjwvaW1nPlxuICAgICAgICApLFxuICAgICAgICBnZXRJdGVtKFxuICAgICAgICAgICAgXCJUw6BpIGxp4buHdSBj4bunYSB0w7RpXCIsXG4gICAgICAgICAgICBcIm1lbnUtaXRlbS0yXCIsXG4gICAgICAgICAgICA8aW1nIGFsdD1cIlwiIGNsYXNzTmFtZT1cImljb24gc2Vjb25kLWljb25cIiBzcmM9e1BhcGVyfT48L2ltZz4sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgZ2V0SXRlbShcbiAgICAgICAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvPXtgJHt1cml9L3VgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldElzT3BlbktleShcIjJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRJc1NlbGVjdGVkS2V5KFwiOVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgVOG6oW8gbeG7m2lcbiAgICAgICAgICAgICAgICAgICAgPC9MaW5rPixcbiAgICAgICAgICAgICAgICAgICAgXCJtZW51LWl0ZW0tOVwiXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBnZXRJdGVtKFxuICAgICAgICAgICAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgICAgICAgICAgICAgdG89e2Ake3VyaX0vZGFndWlgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldElzT3BlbktleShcIjJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRJc1NlbGVjdGVkS2V5KFwiMTBcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIMSQw6MgZ+G7rWlcbiAgICAgICAgICAgICAgICAgICAgPC9MaW5rPixcbiAgICAgICAgICAgICAgICAgICAgXCJtZW51LWl0ZW0tMTBcIlxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgLy8gZ2V0SXRlbShcbiAgICAgICAgICAgICAgICAvLyAgICAgPExpbmtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRvPXtgJHt1cml9L2d1aWRlbmB9XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgc2V0SXNPcGVuS2V5KFwiMlwiKVxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHNldElzU2VsZWN0ZWRLZXkoXCIxMVwiKVxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvLyAgICAgPlxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgR+G7rWkgxJHhur9uXG4gICAgICAgICAgICAgICAgLy8gICAgIDwvTGluaz4sXG4gICAgICAgICAgICAgICAgLy8gICAgIFwibWVudS1pdGVtLTExXCJcbiAgICAgICAgICAgICAgICAvLyApLFxuICAgICAgICAgICAgXVxuICAgICAgICApLFxuICAgICAgICB1c2VyRGF0YS51c2VyX2lkID09IDEgJiZcbiAgICAgICAgICAgIGdldEl0ZW0oXG4gICAgICAgICAgICAgICAgXCJRdeG6o24gbMO9IHTDoGkgbGnhu4d1XCIsXG4gICAgICAgICAgICAgICAgXCJtZW51LWl0ZW0tNFwiLFxuICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgYWx0PVwiXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaWNvbiBzZWNvbmQtaWNvblwiXG4gICAgICAgICAgICAgICAgICAgIHNyYz17UGFwZXJfTmVnYXRpdmV9XG4gICAgICAgICAgICAgICAgPjwvaW1nPixcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIGdldEl0ZW0oXG4gICAgICAgICAgICAgICAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvPXtgJHt1cml9L3F1YW5seV90ZW1wbGF0ZWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRJc09wZW5LZXkoXCI0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldElzU2VsZWN0ZWRLZXkoXCI3XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEYW5oIHPDoWNoIHTDoGkgbGnhu4d1XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0xpbms+LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJtZW51LWl0ZW0tN1wiXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIGdldEl0ZW0oXG4gICAgICAgICAgICAgICAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvPXtgJHt1cml9L2RzY2NgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0SXNPcGVuS2V5KFwiNFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRJc1NlbGVjdGVkS2V5KFwiOFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUXV5IHRyw6xuaCB24bqtbiBow6BuaFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9MaW5rPixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibWVudS1pdGVtLThcIlxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICksXG4gICAgXVxuICAgIGNvbnN0IHJlbmRlck1lbnUgPSAoKSA9PiB7XG4gICAgICAgIC8vIENoZWNrIGlmIGlzIGFkbWluXG4gICAgICAgIGlmICh1c2VyRGF0YS51c2VyX2lkID09IDEpXG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIGdldEl0ZW0oXG4gICAgICAgICAgICAgICAgICAgIFwiUXXhuqNuIGzDvSB0w6BpIGxp4buHdVwiLFxuICAgICAgICAgICAgICAgICAgICBcIm1lbnUtaXRlbS00XCIsXG4gICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsdD1cIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpY29uIHNlY29uZC1pY29uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17UGFwZXJfTmVnYXRpdmV9XG4gICAgICAgICAgICAgICAgICAgID48L2ltZz4sXG4gICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldEl0ZW0oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG89e2Ake3VyaX0vcXVhbmx5X3RlbXBsYXRlYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0SXNPcGVuS2V5KFwiNFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0SXNTZWxlY3RlZEtleShcIjdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhbmggc8OhY2ggdMOgaSBsaeG7h3VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xpbms+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWVudS1pdGVtLTdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldEl0ZW0oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG89e2Ake3VyaX0vZHNjY2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldElzT3BlbktleShcIjRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldElzU2VsZWN0ZWRLZXkoXCI4XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBRdXkgdHLDrG5oIHbhuq1uIGjDoG5oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9MaW5rPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm1lbnUtaXRlbS04XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgXVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIGdldEl0ZW0oXG4gICAgICAgICAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgICAgICAgICAgICB0bz17YCR7dXJpfS9ndWlkZW5gfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldElzU2VsZWN0ZWRLZXkoXCIxMVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgQ8O0bmcgdmnhu4djIGPhu6dhIHTDtGlcbiAgICAgICAgICAgICAgICAgICAgPC9MaW5rPixcbiAgICAgICAgICAgICAgICAgICAgXCJtZW51LWl0ZW0tMTFcIixcbiAgICAgICAgICAgICAgICAgICAgPGltZyBhbHQ9XCJcIiBjbGFzc05hbWU9XCJpY29uIHNlY29uZC1pY29uXCIgc3JjPXtXb3JrfT48L2ltZz5cbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGdldEl0ZW0oXG4gICAgICAgICAgICAgICAgICAgIFwiVMOgaSBsaeG7h3UgY+G7p2EgdMO0aVwiLFxuICAgICAgICAgICAgICAgICAgICBcIm1lbnUtaXRlbS0yXCIsXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgYWx0PVwiXCIgY2xhc3NOYW1lPVwiaWNvbiBzZWNvbmQtaWNvblwiIHNyYz17UGFwZXJ9PjwvaW1nPixcbiAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0SXRlbShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bz17YCR7dXJpfS91YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgc2V0SXNPcGVuS2V5KFwiMlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgc2V0SXNTZWxlY3RlZEtleShcIjlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFThuqFvIG3hu5tpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9MaW5rPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm1lbnUtaXRlbS05XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRJdGVtKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvPXtgJHt1cml9L2RhZ3VpYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgc2V0SXNPcGVuS2V5KFwiMlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgc2V0SXNTZWxlY3RlZEtleShcIjEwXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDEkMOjIGfhu61pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9MaW5rPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm1lbnUtaXRlbS0xMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ2V0SXRlbShcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICA8TGlua1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB0bz17YCR7dXJpfS9ndWlkZW5gfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBzZXRJc09wZW5LZXkoXCIyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBzZXRJc1NlbGVjdGVkS2V5KFwiMTFcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIEfhu61pIMSR4bq/blxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIDwvTGluaz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgXCJtZW51LWl0ZW0tMTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gKSxcbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICBdXG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbmRlck1lbnUoKVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPD5cbiAgICAgICAgICAgIHt3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcyhcImVycFwiKSA9PT0gdHJ1ZSA/IChcbiAgICAgICAgICAgICAgICByZW5kZXJNZW51KClcbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPFNpZGVyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoPVwiMjY2cHhcIlxuICAgICAgICAgICAgICAgICAgICAvLyBjb2xsYXBzZWQ9e2NvbGxhcHNlZH1cbiAgICAgICAgICAgICAgICAgICAgb25Db2xsYXBzZT17KHZhbHVlKSA9PiBzZXRDb2xsYXBzZWQodmFsdWUpfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPE1lbnVcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoZW1lPVwiZGFya1wiXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2VsZWN0ZWRLZXlzPXtbYG1lbnUtaXRlbS0zYF19XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0T3BlbktleXM9e1tgbWVudS1pdGVtLTJgLCBgbWVudS1pdGVtLTRgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU9XCJpbmxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM9e2l0ZW1zfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICB7Lyoge3JlbmRlck1lbnUoKX0gKi99XG4gICAgICAgICAgICAgICAgPC9TaWRlcj5cbiAgICAgICAgICAgICl9XG4gICAgICAgIDwvPlxuICAgIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2lkZWJhclxuIiwiaW1wb3J0IHsgQnJvd3NlclJvdXRlciwgTmF2aWdhdGUsIE91dGxldCwgdXNlTG9jYXRpb24gfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiXG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gXCJyZWFjdC1yZWR1eFwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIi4vcmVkdXgvc3RvcmVcIlxuXG5pbXBvcnQgeyBMaW5rLCBSb3V0ZSwgUm91dGVzLCBSZWRpcmVjdCB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCJcbmltcG9ydCBcImFudGQvZGlzdC9hbnRkLmxlc3NcIlxuaW1wb3J0IFwiLi9BcHAubGVzc1wiXG5pbXBvcnQgXCIuL0N1c3RvbS5sZXNzXCJcbmltcG9ydCBEb2N1bWVudF9xdWFubHlfdGFvIGZyb20gXCIuL1BhZ2VzL0RvY3VtZW50X3F1YW5seV90YW9cIlxuaW1wb3J0IERvY3VtZW50X3F1YW5seV9ndWkgZnJvbSBcIi4vUGFnZXMvRG9jdW1lbnRfcXVhbmx5X2d1aVwiXG5pbXBvcnQgRG9jdW1lbnRfcXVhbmx5X2RlbiBmcm9tIFwiLi9QYWdlcy9Eb2N1bWVudF9xdWFubHlfZGVuXCJcbmltcG9ydCBEb2N1bWVudF90YW8gZnJvbSBcIi4vUGFnZXMvRG9jdW1lbnRfdGFvXCJcbmltcG9ydCBEb2N1bWVudF9kYWd1aSBmcm9tIFwiLi9QYWdlcy9Eb2N1bWVudF9kYWd1aVwiXG5pbXBvcnQgRG9jdW1lbnRfeHVseSBmcm9tIFwiLi9QYWdlcy9Eb2N1bWVudF94dWx5XCJcbmltcG9ydCBUZW1wbGF0ZV9xdWFubHkgZnJvbSBcIi4vUGFnZXMvVGVtcGxhdGVfcXVhbmx5XCJcbmltcG9ydCBUZW1wbGF0ZV9mbG93X3F1YW5seSBmcm9tIFwiLi9QYWdlcy9UZW1wbGF0ZV9mbG93X3F1YW5seVwiXG5pbXBvcnQgVGVtcGxhdGUgZnJvbSBcIi4vUGFnZXMvVGVtcGxhdGVcIlxuaW1wb3J0IFRlbXBsYXRlX2Zsb3cgZnJvbSBcIi4vUGFnZXMvVGVtcGxhdGVfZmxvd1wiXG5pbXBvcnQgU2lkZWJhciBmcm9tIFwiLi9jb21wb25lbnRzL1NpZGVCYXIvaW5kZXhcIlxuaW1wb3J0IHsgZ2V0VG9rZW4sIHBhcnNlSnd0IH0gZnJvbSBcIi4uL3V0aWxzL2hlbHBlclwiXG5pbXBvcnQgeyBtb3Rpb24gfSBmcm9tIFwiZnJhbWVyLW1vdGlvblwiXG5cbmNvbnN0IFBhZ2VMYXlvdXQgPSAoeyBjaGlsZHJlbiB9KSA9PiBjaGlsZHJlblxuXG5jb25zdCBwYWdlVmFyaWFudHMgPSB7XG4gICAgaW5pdGlhbDoge1xuICAgICAgICBvcGFjaXR5OiAwLFxuICAgIH0sXG4gICAgaW46IHtcbiAgICAgICAgb3BhY2l0eTogMSxcbiAgICB9LFxuICAgIG91dDoge1xuICAgICAgICBvcGFjaXR5OiAwLFxuICAgIH0sXG59XG5cbmNvbnN0IHBhZ2VUcmFuc2l0aW9uID0ge1xuICAgIHR5cGU6IFwidHdlZW5cIixcbiAgICBlYXNlOiBcImxpbmVhclwiLFxuICAgIGR1cmF0aW9uOiAwLjYsXG59XG5cbmNvbnN0IEFuaW1hdGlvbkxheW91dCA9ICgpID0+IHtcbiAgICBjb25zdCB7IHBhdGhuYW1lIH0gPSB1c2VMb2NhdGlvbigpXG4gICAgcmV0dXJuIChcbiAgICAgICAgPFBhZ2VMYXlvdXQ+XG4gICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICAgIGtleT17cGF0aG5hbWV9XG4gICAgICAgICAgICAgICAgaW5pdGlhbD1cImluaXRpYWxcIlxuICAgICAgICAgICAgICAgIGFuaW1hdGU9XCJpblwiXG4gICAgICAgICAgICAgICAgdmFyaWFudHM9e3BhZ2VWYXJpYW50c31cbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uPXtwYWdlVHJhbnNpdGlvbn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8T3V0bGV0IC8+XG4gICAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgIDwvUGFnZUxheW91dD5cbiAgICApXG59XG5cbmZ1bmN0aW9uIEFwcCgpIHtcbiAgICBjb25zdCB1c2VyRGF0YSA9IHBhcnNlSnd0KGdldFRva2VuKFwiX3R0b2F1dGhcIikpXG5cbiAgICBjb25zdCBoYW5kbGVSb3V0ZXIgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8Um91dGVzPlxuICAgICAgICAgICAgICAgIDxSb3V0ZSBlbGVtZW50PXs8QW5pbWF0aW9uTGF5b3V0IC8+fT5cbiAgICAgICAgICAgICAgICAgICAgPFJvdXRlIHBhdGg9XCIvdVwiIGVsZW1lbnQ9ezxEb2N1bWVudF9xdWFubHlfdGFvIC8+fSAvPlxuICAgICAgICAgICAgICAgICAgICA8Um91dGUgcGF0aD1cIi9kYWd1aVwiIGVsZW1lbnQ9ezxEb2N1bWVudF9xdWFubHlfZ3VpIC8+fSAvPlxuICAgICAgICAgICAgICAgICAgICA8Um91dGUgcGF0aD1cIi9ndWlkZW5cIiBlbGVtZW50PXs8RG9jdW1lbnRfcXVhbmx5X2RlbiAvPn0gLz5cbiAgICAgICAgICAgICAgICAgICAgPFJvdXRlIHBhdGg9XCIvdWRcIiBlbGVtZW50PXs8RG9jdW1lbnRfZGFndWkgLz59IC8+XG4gICAgICAgICAgICAgICAgICAgIDxSb3V0ZSBwYXRoPVwiL3V0XCIgZWxlbWVudD17PERvY3VtZW50X3RhbyAvPn0gLz5cbiAgICAgICAgICAgICAgICAgICAgPFJvdXRlIHBhdGg9XCIvdWVcIiBlbGVtZW50PXs8RG9jdW1lbnRfeHVseSAvPn0gLz5cblxuICAgICAgICAgICAgICAgICAgICB7LyogPFJvdXRlIHBhdGg9XCIvXCIgZWxlbWVudD17PE5hdmlnYXRlIHRvPVwiL2d1aWRlblwiIHJlcGxhY2UgLz59IC8+ICovfVxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBDaGVjayBpZiBhZG1pbiAqL31cbiAgICAgICAgICAgICAgICAgICAge3VzZXJEYXRhLnVzZXJfaWQgPT0gMSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxSb3V0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGFjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoPVwiL2RzY2NcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50PXs8VGVtcGxhdGVfZmxvd19xdWFubHkgLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Um91dGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aD1cIi9xdWFubHlfdGVtcGxhdGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50PXs8VGVtcGxhdGVfcXVhbmx5IC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJvdXRlIHBhdGg9XCIvdmJjdFwiIGVsZW1lbnQ9ezxUZW1wbGF0ZSAvPn0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Um91dGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aD1cIi9lZGl0X3RlbXBsYXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudD17PFRlbXBsYXRlIC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJvdXRlIHBhdGg9XCIvdGFvcXRcIiBlbGVtZW50PXs8VGVtcGxhdGVfZmxvdyAvPn0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvUm91dGU+XG4gICAgICAgICAgICA8L1JvdXRlcz5cbiAgICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndvcmtmbG93LXNlcnZpY2VcIj5cbiAgICAgICAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxuICAgICAgICAgICAgICAgIHtjb25zb2xlLmxvZyh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcyhcIndvcmtmbG93ZmVcIikpfVxuICAgICAgICAgICAgICAgIHt3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcyhcIndvcmtmbG93ZmVcIikgPT09IGZhbHNlID8gKFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVSb3V0ZXIoKVxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogXCJmbGV4XCIgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2lkZWJhciBzdHlsZT17eyBmbGV4OiAxIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2hhbmRsZVJvdXRlcigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9Qcm92aWRlcj5cbiAgICAgICAgPC9kaXY+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBBcHBcblxuLy8gY29uc3QgQXBwID0gKCkgPT4ge1xuLy8gICAgIHJldHVybiAoXG4vLyAgICAgICAgIDxkaXY+XG4vLyAgICAgICAgICAgICBBcHBcbi8vICAgICAgICAgPC9kaXY+XG4vLyAgICAgKTtcbi8vIH1cblxuLy8gZXhwb3J0IGRlZmF1bHQgQXBwO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb20vY2xpZW50XCI7XG5pbXBvcnQgQXBwIGZyb20gXCIuL0FwcFwiO1xuaW1wb3J0IHsgQnJvd3NlclJvdXRlciB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCJcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCBzdG9yZSBmcm9tIFwiLi9yZWR1eC9zdG9yZVwiXG5jb25zdCByb290ID0gUmVhY3RET00uY3JlYXRlUm9vdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvb3RcIikpO1xucm9vdC5yZW5kZXIoXG4gICAgPEFwcCAvPlxuKTtcbiIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvYTA1NWQ2MmI1ZTU4MmI1N2IxZjM2NjQ4OTNkMTkyMmItQXJyRG93bi5zdmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2ExMzE1NGNkMTc5NzJhYzNjOWI4MjhiNTRjY2YyNTNlLUFyclVwLnN2Z1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvNzllN2ZhMTA1NmQyM2M1YmFmY2Y4MDg1YTVlNzA1YjEtQ2xvc2Uuc3ZnXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltYWdlcy81M2ZjZWIwZTc5MTRiMmZjZmYxZDdlYzQ0ODM4MWM5Ny1QbHVzLnN2Z1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvOTU3YTg4YjA2ZTdmZGJmNDcwYjQ4YTE2MzY1YWZiYmQtVXBsb2FkLnN2Z1wiOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIG0gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIGV4cG9ydHMuY3JlYXRlUm9vdCA9IG0uY3JlYXRlUm9vdDtcbiAgZXhwb3J0cy5oeWRyYXRlUm9vdCA9IG0uaHlkcmF0ZVJvb3Q7XG59IGVsc2Uge1xuICB2YXIgaSA9IG0uX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ7XG4gIGV4cG9ydHMuY3JlYXRlUm9vdCA9IGZ1bmN0aW9uKGMsIG8pIHtcbiAgICBpLnVzaW5nQ2xpZW50RW50cnlQb2ludCA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBtLmNyZWF0ZVJvb3QoYywgbyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGkudXNpbmdDbGllbnRFbnRyeVBvaW50ID0gZmFsc2U7XG4gICAgfVxuICB9O1xuICBleHBvcnRzLmh5ZHJhdGVSb290ID0gZnVuY3Rpb24oYywgaCwgbykge1xuICAgIGkudXNpbmdDbGllbnRFbnRyeVBvaW50ID0gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIG0uaHlkcmF0ZVJvb3QoYywgaCwgbyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGkudXNpbmdDbGllbnRFbnRyeVBvaW50ID0gZmFsc2U7XG4gICAgfVxuICB9O1xufVxuIl0sIm5hbWVzIjpbInNhZ2FNaWRkbGV3YXJlIiwiY3JlYXRlU2FnYU1pZGRsZXdhcmUiLCJzdG9yZSIsImNvbmZpZ3VyZVN0b3JlIiwicmVkdWNlciIsInRlbXBsYXRlIiwidGVtcGxhdGVTbGljZSIsImZvbGRlciIsImZvbGRlclNsaWNlIiwibW9kYWxWaXNpYmxlIiwibW9kYWxWaXNpYmxlU2xpY2UiLCJmYWtlRGF0YSIsImZha2VEYXRhU2xpY2UiLCJzdGVwcyIsInN0ZXBzU2xpY2UiLCJyZWZyZXNoVmFyaWFibGUiLCJyZWZyZXNoVmFyaWFibGVTbGljZSIsImdsb2JhbFZhcmlhYmxlIiwiZ2xvYmFsVmFyaWFibGVTbGljZSIsImRvY3VtZW50cyIsImRvY3VtZW50U2xpY2UiLCJhY3Rpb24iLCJhY3Rpb25TbGljZSIsIm1pZGRsZXdhcmUiLCJydW4iLCJyb290U2FnYSIsIkxheW91dCIsInVzZXJEYXRhIiwicGFyc2VKd3QiLCJnZXRUb2tlbiIsImdldEl0ZW0iLCJsYWJlbCIsImtleSIsImljb24iLCJjaGlsZHJlbiIsImNsYXNzTmFtZSIsInVyaSIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImluY2x1ZGVzIiwiTGluayIsInRvIiwib25DbGljayIsImFsdCIsInNyYyIsIldvcmsiLCJQYXBlciIsInVzZXJfaWQiLCJQYXBlcl9OZWdhdGl2ZSIsIlBhZ2VMYXlvdXQiLCJwYWdlVmFyaWFudHMiLCJpbml0aWFsIiwib3BhY2l0eSIsImluIiwib3V0IiwicGFnZVRyYW5zaXRpb24iLCJ0eXBlIiwiZWFzZSIsImR1cmF0aW9uIiwiQW5pbWF0aW9uTGF5b3V0IiwicGF0aG5hbWUiLCJ1c2VMb2NhdGlvbiIsIm1vdGlvbiIsImFuaW1hdGUiLCJ2YXJpYW50cyIsInRyYW5zaXRpb24iLCJPdXRsZXQiLCJoYW5kbGVSb3V0ZXIiLCJSb3V0ZXMiLCJSb3V0ZSIsImVsZW1lbnQiLCJwYXRoIiwiRG9jdW1lbnRfcXVhbmx5X3RhbyIsIkRvY3VtZW50X3F1YW5seV9ndWkiLCJEb2N1bWVudF9xdWFubHlfZGVuIiwiRG9jdW1lbnRfZGFndWkiLCJEb2N1bWVudF90YW8iLCJEb2N1bWVudF94dWx5IiwiZXhhY3QiLCJUZW1wbGF0ZV9mbG93X3F1YW5seSIsIlRlbXBsYXRlX3F1YW5seSIsIlRlbXBsYXRlIiwiVGVtcGxhdGVfZmxvdyIsIlByb3ZpZGVyIiwiY29uc29sZSIsImxvZyIsInN0eWxlIiwiZGlzcGxheSIsIkJyb3dzZXJSb3V0ZXIiLCJmbGV4IiwiUmVhY3RET00iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwicmVuZGVyIiwibSIsImV4cG9ydHMiLCJjcmVhdGVSb290IiwiaHlkcmF0ZVJvb3QiXSwic291cmNlUm9vdCI6IiJ9